(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8c09dd84"],{"268f":function(e,t,a){e.exports=a("fde4")},"32a6":function(e,t,a){var n=a("241e"),i=a("c3a1");a("ce7e")("keys",function(){return function(e){return i(n(e))}})},5176:function(e,t,a){e.exports=a("51b6")},"51b6":function(e,t,a){a("a3c3"),e.exports=a("584a").Object.assign},"7b8a":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Reservaciones")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary"},slot:"activator"},[e._v("Agrega un nuevo cliente")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.editedItem.hotel?e.editedItem.hotel:e.formTitle))])]),a("v-card-text",[a("v-form",{ref:"form"},[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","d-flex":""}},[a("v-select",{attrs:{items:e.cars,"item-text":"text","item-value":"value",label:"Elige un Auto","data-vv-name":"select",required:""},model:{value:e.editedItem.car.id,callback:function(t){e.$set(e.editedItem.car,"id",t)},expression:"editedItem.car.id"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","d-flex":""}},[a("v-select",{attrs:{items:e.customers,"item-text":"text","item-value":"value",label:"Elige un cliente","data-vv-name":"select",required:""},model:{value:e.editedItem.customer.id,callback:function(t){e.$set(e.editedItem.customer,"id",t)},expression:"editedItem.customer.id"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{type:"text",label:"Hotel"},model:{value:e.editedItem.hotel,callback:function(t){e.$set(e.editedItem,"hotel",t)},expression:"editedItem.hotel"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{type:"text",label:"Número de Cuarto"},model:{value:e.editedItem.roomNumber,callback:function(t){e.$set(e.editedItem,"roomNumber",t)},expression:"editedItem.roomNumber"}})],1),a("v-flex",{attrs:{xs12:"",sm4:"",md4:""}},[a("v-text-field",{attrs:{prefix:"$",type:"number",label:"Adelanto de Pago"},model:{value:e.editedItem.advancePayment,callback:function(t){e.$set(e.editedItem,"advancePayment",e._n(t))},expression:"editedItem.advancePayment"}})],1),a("v-flex",{attrs:{xs12:"",sm8:"",md8:""}},[a("v-textarea",{attrs:{name:"note",label:"Notas",hint:"Escribe algo"},model:{value:e.editedItem.notes,callback:function(t){e.$set(e.editedItem,"notes",t)},expression:"editedItem.notes"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},model:{value:e.dateMenu,callback:function(t){e.dateMenu=t},expression:"dateMenu"}},[a("v-text-field",{attrs:{slot:"activator",label:"Fecha de expedición de Licencia para conducir","prepend-icon":"event",readonly:""},slot:"activator",model:{value:e.editedItem.date,callback:function(t){e.$set(e.editedItem,"date",t)},expression:"editedItem.date"}}),a("v-date-picker",{on:{input:function(t){e.dateMenu=!1}},model:{value:e.editedItem.date,callback:function(t){e.$set(e.editedItem,"date",t)},expression:"editedItem.date"}})],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:e.close}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:e.save}},[e._v("Guardar")])],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.reservations},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"subheading"},[e._v(e._s(t.item.id))]),a("td",{staticClass:"text-sm-center subheading"},[e._v(e._s(t.item.car.model+" - "+t.item.car.brand))]),a("td",{staticClass:"text-sm-center subheading"},[e._v(e._s(t.item.customer.firstName))]),a("td",{staticClass:"text-sm-center subheading"},[e._v(e._s(t.item.hotel))]),a("td",{staticClass:"text-sm-center subheading"},[e._v(e._s(t.item.roomNumber))]),a("td",{staticClass:"text-sm-center subheading"},[e._v(e._s(t.item.date.substr(0,10)))]),a("td",{staticClass:"text-sm-center subheading"},[e._v(e._s(t.item.advancePayment))]),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{attrs:{flat:"",icon:"",color:"blue lighten-2"}},[a("v-icon",{attrs:{medium:""},on:{click:function(a){return e.editItem(t.item)}}},[e._v("\n                        edit\n                    ")])],1),a("v-btn",{attrs:{flat:"",icon:"",color:"red darken-2"}},[a("v-icon",{attrs:{medium:""},on:{click:function(a){return e.deleteItem(t.item)}}},[e._v("\n                        delete\n                    ")])],1)],1)]}}])},[a("template",{slot:"no-data"},[a("h2",[e._v("No hay disponible ningun data")])])],2)],1)},i=[],r=a("5176"),s=a.n(r),c=a("cebc"),o=(a("96cf"),a("3b8d")),d=a("d225"),u=a("b0b4"),l=a("308d"),m=a("6bb5"),v=a("4e2b"),f=a("9ab4"),b=a("60a3"),h=a("7c41"),x=function(e){function t(){var e;return Object(d["a"])(this,t),e=Object(l["a"])(this,Object(m["a"])(t).apply(this,arguments)),e.customers=[],e.cars=[],e.reservations=[],e.dialog=!1,e.dateMenu=!1,e.dateLicenseExp=!1,e.headers=[{text:"ID",align:"left",sortable:!1,class:"subheading",value:"id"},{text:"Automovil",class:"subheading",value:"car"},{text:"Cliente",class:"subheading",value:"customer"},{text:"Hotel",class:"subheading",value:"hotel"},{text:"Número de cuarto",class:"subheading",value:"roomNumber"},{text:"Fecha",class:"subheading",value:"date"},{text:"Adelanto",class:"subheading",value:"advancePayment"},{text:"Actions",class:"subheading",value:"actions",sortable:!1}],e.editedIndex=-1,e.editedItem={id:"",date:(new Date).toISOString().substr(0,10),hotel:"",roomNumber:"",advancePayment:0,notes:"",customer:{id:""},car:{id:""}},e.defaultItem={id:"",date:(new Date).toISOString().substr(0,10),hotel:"",roomNumber:"",advancePayment:0,notes:"",customer:{id:""},car:{id:""}},e}return Object(v["a"])(t,e),Object(u["a"])(t,[{key:"fetchData",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,a,n,i,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,h["a"].Strapi.axios.get("/reservations");case 2:return t=e.sent,a=t.data.map(function(e){return Object(c["a"])({},e,{date:e.date.substr(0,10)})}),e.next=6,h["a"].Strapi.axios.get("/cars");case 6:return n=e.sent,i=n.data.map(function(e){return{text:"".concat(e.brand," ").concat(e.model),value:e.id}}),e.next=10,h["a"].Strapi.axios.get("/customers");case 10:r=e.sent,s=r.data.map(function(e){return{text:"".concat(e.firstName," ").concat(e.lastName),value:e.id}}),this.reservations=a,this.cars=i,this.customers=s;case 15:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"mounted",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetchData();case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"parseDateIss",value:function(e){var t=new Date(e);return"".concat(t.getDate()," - ").concat(t.getMonth()," - ").concat(t.getFullYear())}},{key:"parseDateVen",value:function(e){var t=new Date(e);return"".concat(t.getDate()," - ").concat(t.getMonth()," - ").concat(t.getFullYear())}},{key:"dialogWatch",value:function(e){e||this.close()}},{key:"editItem",value:function(e){this.editedIndex=this.reservations.indexOf(e),this.editedItem=s()({},e),this.dialog=!0}},{key:"deleteItem",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.reservations.indexOf(t),e.t0=confirm("Está seguro de eliminarlo?"),!e.t0){e.next=5;break}return e.next=5,h["a"].Strapi.axios.delete("/reservations/".concat(t.id));case 5:return e.next=7,this.fetchData();case 7:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"close",value:function(){var e=this;this.dialog=!1,setTimeout(function(){e.editedItem=s()({},e.defaultItem),e.editedIndex=-1},300)}},{key:"save",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.editedIndex>-1)){e.next=8;break}return e.next=3,h["a"].Strapi.axios.put("/reservations/".concat(this.editedItem.id),{date:this.editedItem.date,hotel:this.editedItem.hotel,roomNumber:this.editedItem.roomNumber,advancePayment:this.editedItem.advancePayment,notes:this.editedItem.notes,customer:this.editedItem.customer.id,car:this.editedItem.car.id});case 3:return e.sent,e.next=6,this.fetchData();case 6:e.next=13;break;case 8:return e.next=10,h["a"].Strapi.axios.post("/reservations",{date:this.editedItem.date,hotel:this.editedItem.hotel,roomNumber:this.editedItem.roomNumber,advancePayment:this.editedItem.advancePayment,notes:this.editedItem.notes,customer:this.editedItem.customer.id,car:this.editedItem.car.id});case 10:return e.sent,e.next=13,this.fetchData();case 13:this.close();case 14:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"formTitle",get:function(){return-1===this.editedIndex?"Nuevo Cliente":"Editar Cliente"}}]),t}(b["b"]);f["a"]([Object(b["c"])("dialog")],x.prototype,"dialogWatch",null),x=f["a"]([Object(b["a"])({$_veeValidate:{validator:"new"}})],x);var p=x,g=p,I=a("2877"),y=Object(I["a"])(g,n,i,!1,null,"720a3378",null);t["default"]=y.exports},"8aae":function(e,t,a){a("32a6"),e.exports=a("584a").Object.keys},9306:function(e,t,a){"use strict";var n=a("c3a1"),i=a("9aa9"),r=a("355d"),s=a("241e"),c=a("335c"),o=Object.assign;e.exports=!o||a("294c")(function(){var e={},t={},a=Symbol(),n="abcdefghijklmnopqrst";return e[a]=7,n.split("").forEach(function(e){t[e]=e}),7!=o({},e)[a]||Object.keys(o({},t)).join("")!=n})?function(e,t){var a=s(e),o=arguments.length,d=1,u=i.f,l=r.f;while(o>d){var m,v=c(arguments[d++]),f=u?n(v).concat(u(v)):n(v),b=f.length,h=0;while(b>h)l.call(v,m=f[h++])&&(a[m]=v[m])}return a}:o},a3c3:function(e,t,a){var n=a("63b6");n(n.S+n.F,"Object",{assign:a("9306")})},a4bb:function(e,t,a){e.exports=a("8aae")},bf90:function(e,t,a){var n=a("36c3"),i=a("bf0b").f;a("ce7e")("getOwnPropertyDescriptor",function(){return function(e,t){return i(n(e),t)}})},cebc:function(e,t,a){"use strict";var n=a("268f"),i=a.n(n),r=a("e265"),s=a.n(r),c=a("a4bb"),o=a.n(c),d=a("85f2"),u=a.n(d);function l(e,t,a){return t in e?u()(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=o()(a);"function"===typeof s.a&&(n=n.concat(s()(a).filter(function(e){return i()(a,e).enumerable}))),n.forEach(function(t){l(e,t,a[t])})}return e}a.d(t,"a",function(){return m})},e265:function(e,t,a){e.exports=a("ed33")},ed33:function(e,t,a){a("014b"),e.exports=a("584a").Object.getOwnPropertySymbols},fde4:function(e,t,a){a("bf90");var n=a("584a").Object;e.exports=function(e,t){return n.getOwnPropertyDescriptor(e,t)}}}]);
//# sourceMappingURL=chunk-8c09dd84.733d61fb.js.map