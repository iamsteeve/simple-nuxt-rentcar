(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ec0322d"],{"268f":function(e,t,a){e.exports=a("fde4")},"32a6":function(e,t,a){var i=a("241e"),n=a("c3a1");a("ce7e")("keys",function(){return function(e){return n(i(e))}})},5176:function(e,t,a){e.exports=a("51b6")},"51b6":function(e,t,a){a("a3c3"),e.exports=a("584a").Object.assign},"8aae":function(e,t,a){a("32a6"),e.exports=a("584a").Object.keys},9306:function(e,t,a){"use strict";var i=a("c3a1"),n=a("9aa9"),r=a("355d"),s=a("241e"),c=a("335c"),d=Object.assign;e.exports=!d||a("294c")(function(){var e={},t={},a=Symbol(),i="abcdefghijklmnopqrst";return e[a]=7,i.split("").forEach(function(e){t[e]=e}),7!=d({},e)[a]||Object.keys(d({},t)).join("")!=i})?function(e,t){var a=s(e),d=arguments.length,o=1,l=n.f,u=r.f;while(d>o){var m,v=c(arguments[o++]),f=l?i(v).concat(l(v)):i(v),p=f.length,x=0;while(p>x)u.call(v,m=f[x++])&&(a[m]=v[m])}return a}:d},a3c3:function(e,t,a){var i=a("63b6");i(i.S+i.F,"Object",{assign:a("9306")})},a4bb:function(e,t,a){e.exports=a("8aae")},bf90:function(e,t,a){var i=a("36c3"),n=a("bf0b").f;a("ce7e")("getOwnPropertyDescriptor",function(){return function(e,t){return n(i(e),t)}})},ca49:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Reparaciones")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary"},slot:"activator"},[e._v("Agrega una reparación")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.editedItem.code?e.editedItem.car.model+" - "+e.editedItem.licensePlate:e.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Descripción","data-vv-name":"description","error-messages":e.errors.collect("description")},model:{value:e.editedItem.description,callback:function(t){e.$set(e.editedItem,"description",t)},expression:"editedItem.description"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Proovedor"},model:{value:e.editedItem.provider,callback:function(t){e.$set(e.editedItem,"provider",t)},expression:"editedItem.provider"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"data-vv-name":"amount","error-messages":e.errors.collect("amount"),prefix:"$",label:"Monto"},model:{value:e.editedItem.amount,callback:function(t){e.$set(e.editedItem,"amount",e._n(t))},expression:"editedItem.amount"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"KM"},model:{value:e.editedItem.km,callback:function(t){e.$set(e.editedItem,"km",e._n(t))},expression:"editedItem.km"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},model:{value:e.dateMenu,callback:function(t){e.dateMenu=t},expression:"dateMenu"}},[a("v-text-field",{attrs:{slot:"activator",label:"Fecha","prepend-icon":"event",readonly:""},slot:"activator",model:{value:e.editedItem.date,callback:function(t){e.$set(e.editedItem,"date",t)},expression:"editedItem.date"}}),a("v-date-picker",{on:{input:function(t){e.dateMenu=!1}},model:{value:e.editedItem.date,callback:function(t){e.$set(e.editedItem,"date",t)},expression:"editedItem.date"}})],1)],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Placa"},model:{value:e.editedItem.licensePlate,callback:function(t){e.$set(e.editedItem,"licensePlate",t)},expression:"editedItem.licensePlate"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:e.cars,"item-text":"text","item-value":"value",label:"Escoga un Auto","data-vv-name":"select","error-messages":e.errors.collect("select"),required:""},model:{value:e.editedItem.car.id,callback:function(t){e.$set(e.editedItem.car,"id",t)},expression:"editedItem.car.id"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:e.close}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:e.save}},[e._v("Guardar")])],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.fixes},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"subheading"},[e._v(e._s(t.item.id))]),a("td",{staticClass:"text-sm-center subheading"},[e._v(e._s(t.item.description))]),a("td",{staticClass:"text-sm-center subheading"},[e._v(e._s(t.item.provider))]),a("td",{staticClass:"text-sm-center subheading"},[e._v("$"+e._s(t.item.amount))]),a("td",{staticClass:"text-sm-center subheading"},[e._v(e._s(t.item.km))]),a("td",{staticClass:"text-sm-center subheading"},[e._v(e._s(t.item.licensePlate))]),a("td",{staticClass:"text-sm-center subheading"},[e._v(e._s(t.item.date))]),a("td",{staticClass:"text-sm-center subheading"},[e._v(e._s(t.item.car.model))]),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{attrs:{flat:"",icon:"",color:"blue lighten-2"}},[a("v-icon",{attrs:{medium:""},on:{click:function(a){return e.editItem(t.item)}}},[e._v("\n                        edit\n                    ")])],1),a("v-btn",{attrs:{flat:"",icon:"",color:"red darken-2"}},[a("v-icon",{attrs:{medium:""},on:{click:function(a){return e.deleteItem(t.item)}}},[e._v("\n                        delete\n                    ")])],1)],1)]}}])},[a("template",{slot:"no-data"},[a("h2",[e._v("No hay datos disponible para mostrar")])])],2)],1)},n=[],r=a("5176"),s=a.n(r),c=a("cebc"),d=(a("96cf"),a("3b8d")),o=a("d225"),l=a("b0b4"),u=a("308d"),m=a("6bb5"),v=a("4e2b"),f=a("9ab4"),p=a("60a3"),x=a("7c41"),h=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(m["a"])(t).apply(this,arguments)),e.dialog=!1,e.cars=[],e.dictionary={attributes:{email:"E-mail Address"},custom:{name:{required:function(){return"Name can not be empty"},max:"The name field may not be greater than 10 characters"},select:{required:"Select field is required"}}},e.headers=[{text:"ID",align:"left",sortable:!1,class:"subheading",value:"id"},{text:"Description",class:"subheading",value:"description"},{text:"Provider",class:"subheading",value:"provider"},{text:"Monto",class:"subheading",value:"amount"},{text:"km",class:"subheading",value:"km"},{text:"Placa",class:"subheading",value:"licensePlate"},{text:"Fecha",class:"subheading",value:"date"},{text:"Carro",class:"subheading",value:"car"},{text:"Actions",class:"subheading",value:"actions",sortable:!1}],e.fixes=[],e.dateMenu=!1,e.editedIndex=-1,e.editedItem={id:"",description:"",provider:"",amount:0,km:0,date:(new Date).toISOString().substr(0,10),licensePlate:"",car:{id:""}},e.defaultItem={id:"",description:"",provider:"",amount:0,licensePlate:"",km:0,date:(new Date).toISOString().substr(0,10),car:{id:""}},e}return Object(v["a"])(t,e),Object(l["a"])(t,[{key:"dialogWatch",value:function(e){e||this.close()}},{key:"mounted",value:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetchCars();case 2:return e.next=4,this.fetchFixes();case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"fetchFixes",value:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x["a"].Strapi.axios.get("/fixes");case 2:t=e.sent,this.fixes=t.data.map(function(e){return Object(c["a"])({},e,{date:e.date.substr(0,10)})});case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"fetchCars",value:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x["a"].Strapi.axios.get("/cars");case 2:t=e.sent,this.cars=t.data.map(function(e){return{text:"".concat(e.brand," ").concat(e.model),value:e.id}});case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"created",value:function(){}},{key:"editItem",value:function(e){this.editedIndex=this.fixes.indexOf(e),this.editedItem=s()({},e),this.dialog=!0}},{key:"deleteItem",value:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=confirm("Quieres eliminar esta reparación?"),!e.t0){e.next=4;break}return e.next=4,x["a"].Strapi.axios.delete("/fixes/".concat(t.id));case 4:return e.next=6,this.fetchCars();case 6:return e.next=8,this.fetchFixes();case 8:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"close",value:function(){var e=this;this.dialog=!1,setTimeout(function(){e.editedItem=s()({},e.defaultItem),e.editedIndex=-1},300)}},{key:"save",value:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$validator.validateAll();case 2:if(t=e.sent,!t){e.next=22;break}if(!(this.editedIndex>-1)){e.next=14;break}return e.next=7,x["a"].Strapi.axios.put("/fixes/".concat(this.editedItem.id),{amount:this.editedItem.amount,description:this.editedItem.description,provider:this.editedItem.provider,km:this.editedItem.km,licensePlate:this.editedItem.licensePlate,date:this.editedItem.date,car:this.editedItem.car.id});case 7:return e.sent,e.next=10,this.fetchCars();case 10:return e.next=12,this.fetchFixes();case 12:e.next=21;break;case 14:return e.next=16,x["a"].Strapi.axios.post("/fixes",{amount:this.editedItem.amount,description:this.editedItem.description,provider:this.editedItem.provider,km:this.editedItem.km,licensePlate:this.editedItem.licensePlate,date:this.editedItem.date,car:this.editedItem.car.id});case 16:return e.sent,e.next=19,this.fetchCars();case 19:return e.next=21,this.fetchFixes();case 21:this.close();case 22:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"formTitle",get:function(){return-1===this.editedIndex?"Nueva Reparación":"Editar Reparación"}}]),t}(p["b"]);f["a"]([Object(p["c"])("dialog")],h.prototype,"dialogWatch",null),h=f["a"]([Object(p["a"])({$_veeValidate:{validator:"new"}})],h);var b=h,g=b,I=a("2877"),k=Object(I["a"])(g,i,n,!1,null,"2fdf8e24",null);t["default"]=k.exports},cebc:function(e,t,a){"use strict";var i=a("268f"),n=a.n(i),r=a("e265"),s=a.n(r),c=a("a4bb"),d=a.n(c),o=a("85f2"),l=a.n(o);function u(e,t,a){return t in e?l()(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},i=d()(a);"function"===typeof s.a&&(i=i.concat(s()(a).filter(function(e){return n()(a,e).enumerable}))),i.forEach(function(t){u(e,t,a[t])})}return e}a.d(t,"a",function(){return m})},e265:function(e,t,a){e.exports=a("ed33")},ed33:function(e,t,a){a("014b"),e.exports=a("584a").Object.getOwnPropertySymbols},fde4:function(e,t,a){a("bf90");var i=a("584a").Object;e.exports=function(e,t){return i.getOwnPropertyDescriptor(e,t)}}}]);
//# sourceMappingURL=chunk-3ec0322d.769a88d4.js.map