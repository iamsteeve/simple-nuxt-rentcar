(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-27f5f5c4"],{5176:function(e,t,a){e.exports=a("51b6")},"51b6":function(e,t,a){a("a3c3"),e.exports=a("584a").Object.assign},"8bb7":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Autos")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary"},slot:"activator"},[e._v("Agrega un Nuevo Auto")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.editedItem.code?e.editedItem.code:e.formTitle))])]),a("v-card-text",[a("v-form",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"data-vv-name":"code","error-messages":e.errors.collect("code"),label:"Codigo del Auto"},model:{value:e.editedItem.code,callback:function(t){e.$set(e.editedItem,"code",t)},expression:"editedItem.code"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","d-flex":""}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:e.itemsBrand,"item-text":"text","item-value":"value","error-messages":e.errors.collect("select"),"data-vv-name":"select",label:"Marca",required:""},model:{value:e.editedItem.brand,callback:function(t){e.$set(e.editedItem,"brand",t)},expression:"editedItem.brand"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Modelo"},model:{value:e.editedItem.model,callback:function(t){e.$set(e.editedItem,"model",t)},expression:"editedItem.model"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Color"},model:{value:e.editedItem.color,callback:function(t){e.$set(e.editedItem,"color",t)},expression:"editedItem.color"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Año"},model:{value:e.editedItem.year,callback:function(t){e.$set(e.editedItem,"year",e._n(t))},expression:"editedItem.year"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Placa"},model:{value:e.editedItem.licensePlate,callback:function(t){e.$set(e.editedItem,"licensePlate",t)},expression:"editedItem.licensePlate"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{prefix:"$","error-messages":e.errors.collect("price"),"data-vv-name":"price",label:"Precio"},model:{value:e.editedItem.price,callback:function(t){e.$set(e.editedItem,"price",e._n(t))},expression:"editedItem.price"}})],1),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-checkbox",{attrs:{label:"¿Quiere activarlo?"},model:{value:e.editedItem.active,callback:function(t){e.$set(e.editedItem,"active",t)},expression:"editedItem.active"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:e.close}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:e.save}},[e._v("Guardar")])],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.cars},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"subheading"},[e._v(e._s(t.item.code))]),a("td",{staticClass:"text-sm-center subheading"},[e._v(e._s(t.item.brand))]),a("td",{staticClass:"text-sm-center subheading"},[e._v(e._s(t.item.model))]),a("td",{staticClass:"text-sm-center subheading"},[e._v(e._s(t.item.color))]),a("td",{staticClass:"text-sm-center subheading"},[e._v(e._s(t.item.year))]),a("td",{staticClass:"text-sm-center subheading"},[e._v(e._s(t.item.licensePlate))]),a("td",{staticClass:"text-sm-center subheading"},[e._v("$"+e._s(t.item.price))]),a("td",{staticClass:"text-sm-center subheading"},[e._v(e._s(t.item.active?"Activo":"Inactivo"))]),a("td",{staticClass:"justify-center layout px-0"},[a("v-btn",{attrs:{flat:"",icon:"",color:"blue lighten-2"}},[a("v-icon",{attrs:{medium:""},on:{click:function(a){return e.editItem(t.item)}}},[e._v("\n                        edit\n                    ")])],1),a("v-btn",{attrs:{flat:"",icon:"",color:"red darken-2"}},[a("v-icon",{attrs:{medium:""},on:{click:function(a){return e.deleteItem(t.item)}}},[e._v("\n                        delete\n                    ")])],1)],1)]}}])},[a("template",{slot:"no-data"},[a("h2",[e._v("No hay datos disponibles")])])],2)],1)},r=[],s=a("5176"),n=a.n(s),c=(a("96cf"),a("3b8d")),l=a("d225"),d=a("b0b4"),o=a("308d"),u=a("6bb5"),m=a("4e2b"),v=a("9ab4"),x=a("60a3"),h=a("7c41"),b=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(o["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.dialog=!1,e.validForm=!1,e.dictionary={attributes:{email:"E-mail Address"},custom:{name:{required:function(){return"Name can not be empty"},max:"The name field may not be greater than 10 characters"},select:{required:"Select field is required"}}},e.headers=[{text:"Código",align:"left",sortable:!1,class:"subheading",value:"code"},{text:"Marca",class:"subheading",value:"brand"},{text:"Modelo",class:"subheading",value:"model"},{text:"Color",class:"subheading",value:"color"},{text:"Año",class:"subheading",value:"year"},{text:"Placas",class:"subheading",value:"licensePlate"},{text:"Precio",class:"subheading",value:"price"},{text:"Status",class:"subheading",value:"active"},{text:"Actions",class:"subheading",value:"actions",sortable:!1}],e.itemsBrand=[{text:"Audi",value:"Audi"},{text:"Jeep",value:"Jeep"},{text:"Wrangler",value:"Wrangler"},{text:"Chevrolet",value:"Chevrolet"},{text:"Mercedez",value:"Mercedez"},{text:"Ford",value:"Ford"},{text:"Nissan",value:"Nissan"},{text:"VW",value:"VW"},{text:"Fiat",value:"Fiat"},{text:"Honda",value:"Honda"},{text:"Dodge",value:"Dodge"},{text:"Renault",value:"Renault"},{text:"Toyota",value:"Toyota"},{text:"Otra",value:"Otra"}],e.cars=[],e.editedIndex=-1,e.editedItem={id:"",code:"",brand:"",model:"",color:"",year:(new Date).getFullYear(),licensePlate:"",price:0,active:!1},e.defaultItem={id:"",code:"",brand:"",model:"",color:"",year:(new Date).getFullYear(),licensePlate:"",price:0,active:!1},e}return Object(m["a"])(t,e),Object(d["a"])(t,[{key:"mounted",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetchCars();case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"fetchCars",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h["a"].Strapi.axios.get("/cars");case 3:t=e.sent,this.cars=t.data,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0.message);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"dialogWatch",value:function(e){e||this.close()}},{key:"created",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"editItem",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.editedIndex=this.cars.indexOf(t),this.editedItem=n()({},t),this.dialog=!0;case 3:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteItem",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(console.log(this.cars.indexOf(t)),e.t0=confirm("Realmente desea eliminar el automovil?"),!e.t0){e.next=5;break}return e.next=5,h["a"].Strapi.axios.delete("/cars/".concat(t.id));case 5:return e.next=7,this.fetchCars();case 7:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"close",value:function(){var e=this;this.dialog=!1,setTimeout(function(){e.editedItem=n()({},e.defaultItem),e.editedIndex=-1},300)}},{key:"save",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$validator.validateAll();case 2:if(t=e.sent,!t){e.next=18;break}if(!(this.editedIndex>-1)){e.next=12;break}return e.next=7,h["a"].Strapi.axios.put("/cars/".concat(this.editedItem.id),{code:this.editedItem.code,brand:this.editedItem.brand,model:this.editedItem.model,color:this.editedItem.color,year:this.editedItem.year,licensePlate:this.editedItem.licensePlate,price:this.editedItem.price,active:this.editedItem.active});case 7:return e.sent,e.next=10,this.fetchCars();case 10:e.next=17;break;case 12:return e.next=14,h["a"].Strapi.axios.post("/cars",{code:this.editedItem.code,brand:this.editedItem.brand,model:this.editedItem.model,color:this.editedItem.color,year:this.editedItem.year,licensePlate:this.editedItem.licensePlate,price:this.editedItem.price,active:this.editedItem.active});case 14:return e.sent,e.next=17,this.fetchCars();case 17:this.close();case 18:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"formTitle",get:function(){return-1===this.editedIndex?"Nuevo Auto":"Editar Auto"}}]),t}(x["b"]);v["a"]([Object(x["c"])("dialog")],b.prototype,"dialogWatch",null),b=v["a"]([Object(x["a"])({$_veeValidate:{validator:"new"}})],b);var f=b,p=f,g=a("2877"),I=Object(g["a"])(p,i,r,!1,null,"791c6647",null);t["default"]=I.exports},9306:function(e,t,a){"use strict";var i=a("c3a1"),r=a("9aa9"),s=a("355d"),n=a("241e"),c=a("335c"),l=Object.assign;e.exports=!l||a("294c")(function(){var e={},t={},a=Symbol(),i="abcdefghijklmnopqrst";return e[a]=7,i.split("").forEach(function(e){t[e]=e}),7!=l({},e)[a]||Object.keys(l({},t)).join("")!=i})?function(e,t){var a=n(e),l=arguments.length,d=1,o=r.f,u=s.f;while(l>d){var m,v=c(arguments[d++]),x=o?i(v).concat(o(v)):i(v),h=x.length,b=0;while(h>b)u.call(v,m=x[b++])&&(a[m]=v[m])}return a}:l},a3c3:function(e,t,a){var i=a("63b6");i(i.S+i.F,"Object",{assign:a("9306")})}}]);
//# sourceMappingURL=chunk-27f5f5c4.1018d7ef.js.map