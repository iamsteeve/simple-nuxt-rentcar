(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1baa843f"],{"0311":function(e,t){},"0a49":function(e,t,i){var a=i("9b43"),r=i("626a"),s=i("4bf8"),n=i("9def"),d=i("cd1c");e.exports=function(e,t){var i=1==e,c=2==e,o=3==e,l=4==e,u=6==e,m=5==e||u,v=t||d;return function(t,d,f){for(var h,x,I=s(t),p=r(I),D=a(d,f,3),y=n(p.length),b=0,g=i?v(t,y):c?v(t,0):void 0;y>b;b++)if((m||b in p)&&(h=p[b],x=D(h,b,I),e))if(i)g[b]=x;else if(x)switch(e){case 3:return!0;case 5:return h;case 6:return b;case 2:g.push(h)}else if(l)return!1;return u?-1:o||l?l:g}}},1169:function(e,t,i){var a=i("2d95");e.exports=Array.isArray||function(e){return"Array"==a(e)}},"268f":function(e,t,i){e.exports=i("fde4")},"32a6":function(e,t,i){var a=i("241e"),r=i("c3a1");i("ce7e")("keys",function(){return function(e){return r(a(e))}})},"41e2":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("v-toolbar",{attrs:{flat:""}},[i("v-toolbar-title",[e._v("Ventas")]),i("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),i("v-spacer"),i("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[i("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary"},slot:"activator"},[e._v("Agrega una nueva venta")]),i("v-card",[i("v-card-title",[i("span",{staticClass:"headline"},[e._v(e._s(e.editedItem.contractNumber?e.contractSerie:e.formTitle))])]),i("v-card-text",[i("v-form",{ref:"form"},[i("v-container",{attrs:{"grid-list-md":""}},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[i("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"error-messages":e.errors.collect("numbercont"),"data-vv-name":"numbercont",type:"number",label:"Numero de contrato"},model:{value:e.editedItem.contractNumber,callback:function(t){e.$set(e.editedItem,"contractNumber",e._n(t))},expression:"editedItem.contractNumber"}})],1),i("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[i("h2",[e._v("\n                                        Vendedor: "+e._s(e.editedItem.user.username)+"\n                                    ")])]),i("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[i("v-text-field",{attrs:{label:"Comentarios"},model:{value:e.editedItem.notes,callback:function(t){e.$set(e.editedItem,"notes",t)},expression:"editedItem.notes"}})],1),i("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[i("v-select",{attrs:{items:e.serieList,"item-text":"text","item-value":"value",label:"Serie","data-vv-name":"select",required:""},model:{value:e.editedItem.serie,callback:function(t){e.$set(e.editedItem,"serie",t)},expression:"editedItem.serie"}})],1),i("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[i("v-select",{attrs:{items:e.cars,"item-text":"text","item-value":"value",label:"Escoga un Auto","data-vv-name":"select",required:""},model:{value:e.editedItem.car.id,callback:function(t){e.$set(e.editedItem.car,"id",t)},expression:"editedItem.car.id"}})],1),i("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[i("v-select",{attrs:{items:e.customers,"item-text":"text","item-value":"value",label:"Escoga un Cliente","data-vv-name":"select",required:""},model:{value:e.editedItem.customer.id,callback:function(t){e.$set(e.editedItem.customer,"id",t)},expression:"editedItem.customer.id"}})],1),i("v-flex",{attrs:{xs12:"",sm4:"",md4:""}},[i("v-switch",{attrs:{label:"¿Tiene Conductor?"},model:{value:e.editedItem.haveDriver,callback:function(t){e.$set(e.editedItem,"haveDriver",t)},expression:"editedItem.haveDriver"}})],1),e.editedItem.haveDriver?i("v-flex",{attrs:{xs12:"",sm8:"",md8:""}},[i("v-text-field",{attrs:{type:"email",label:"Nombre del conductor"},model:{value:e.editedItem.driverName,callback:function(t){e.$set(e.editedItem,"driverName",t)},expression:"editedItem.driverName"}})],1):e._e(),e.editedItem.haveDriver?i("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[i("v-text-field",{attrs:{label:"Licencia de conducir"},model:{value:e.editedItem.driverLicense,callback:function(t){e.$set(e.editedItem,"driverLicense",t)},expression:"editedItem.driverLicense"}})],1):e._e(),e.editedItem.haveDriver?i("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[i("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[i("v-menu",{ref:"issuanceDrivedate",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.editedItem.issuanceLicenseDriveDate,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(t){return e.$set(e.editedItem,"issuanceLicenseDriveDate",t)},"update:return-value":function(t){return e.$set(e.editedItem,"issuanceLicenseDriveDate",t)}},model:{value:e.issuanceLicenseDriveDate,callback:function(t){e.issuanceLicenseDriveDate=t},expression:"issuanceLicenseDriveDate"}},[i("v-text-field",{attrs:{slot:"activator",label:"Expedición de licencia de conducir","prepend-icon":"event",readonly:""},slot:"activator",model:{value:e.editedItem.issuanceLicenseDriveDate,callback:function(t){e.$set(e.editedItem,"issuanceLicenseDriveDate",t)},expression:"editedItem.issuanceLicenseDriveDate"}}),i("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.editedItem.issuanceLicenseDriveDate,callback:function(t){e.$set(e.editedItem,"issuanceLicenseDriveDate",t)},expression:"editedItem.issuanceLicenseDriveDate"}},[i("v-spacer"),i("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){e.issuanceLicenseDriveDate=!1}}},[e._v("Cancel")]),i("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){return e.$refs.issuanceDrivedate.save(e.editedItem.issuanceLicenseDriveDate)}}},[e._v("OK")])],1)],1)],1)],1):e._e(),e.editedItem.haveDriver?i("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[i("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[i("v-menu",{ref:"driveExpiration",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.editedItem.expirationLicenseDriverDate,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(t){return e.$set(e.editedItem,"expirationLicenseDriverDate",t)},"update:return-value":function(t){return e.$set(e.editedItem,"expirationLicenseDriverDate",t)}},model:{value:e.expirationLicenseDriverDate,callback:function(t){e.expirationLicenseDriverDate=t},expression:"expirationLicenseDriverDate"}},[i("v-text-field",{attrs:{slot:"activator",label:"Expiración de licencia de conducir","prepend-icon":"event",readonly:""},slot:"activator",model:{value:e.editedItem.expirationLicenseDriverDate,callback:function(t){e.$set(e.editedItem,"expirationLicenseDriverDate",t)},expression:"editedItem.expirationLicenseDriverDate"}}),i("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.editedItem.expirationLicenseDriverDate,callback:function(t){e.$set(e.editedItem,"expirationLicenseDriverDate",t)},expression:"editedItem.expirationLicenseDriverDate"}},[i("v-spacer"),i("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){e.expirationLicenseDriverDate=!1}}},[e._v("Cancel")]),i("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){return e.$refs.driveExpiration.save(e.editedItem.expirationLicenseDriverDate)}}},[e._v("OK")])],1)],1)],1)],1):e._e(),i("v-flex",{attrs:{xs12:"",md6:""}},[i("v-switch",{attrs:{label:"¿Tiene Fiscal?"},model:{value:e.editedItem.haveFiscal,callback:function(t){e.$set(e.editedItem,"haveFiscal",t)},expression:"editedItem.haveFiscal"}})],1),e.editedItem.haveFiscal?i("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[i("v-text-field",{attrs:{label:"Nombre Fiscal"},model:{value:e.editedItem.fiscalName,callback:function(t){e.$set(e.editedItem,"fiscalName",t)},expression:"editedItem.fiscalName"}})],1):e._e(),e.editedItem.haveFiscal?i("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[i("v-text-field",{attrs:{label:"RFC Fiscal"},model:{value:e.editedItem.fiscalRFC,callback:function(t){e.$set(e.editedItem,"fiscalRFC",t)},expression:"editedItem.fiscalRFC"}})],1):e._e(),e.editedItem.haveFiscal?i("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[i("v-text-field",{attrs:{label:"Dirección fiscal"},model:{value:e.editedItem.fiscalAddress,callback:function(t){e.$set(e.editedItem,"fiscalAddress",t)},expression:"editedItem.fiscalAddress"}})],1):e._e(),e.editedItem.haveFiscal?i("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[i("v-text-field",{attrs:{type:"phone",label:"Telefono Fiscal"},model:{value:e.editedItem.fiscalPhone,callback:function(t){e.$set(e.editedItem,"fiscalPhone",e._n(t))},expression:"editedItem.fiscalPhone"}})],1):e._e(),i("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[i("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.editedItem.entryDate,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(t){return e.$set(e.editedItem,"entryDate",t)},"update:return-value":function(t){return e.$set(e.editedItem,"entryDate",t)}},model:{value:e.entryDate,callback:function(t){e.entryDate=t},expression:"entryDate"}},[i("v-text-field",{attrs:{slot:"activator",label:"Fecha de Entrada","prepend-icon":"event",readonly:""},slot:"activator",model:{value:e.editedItem.entryDate,callback:function(t){e.$set(e.editedItem,"entryDate",t)},expression:"editedItem.entryDate"}}),i("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.editedItem.entryDate,callback:function(t){e.$set(e.editedItem,"entryDate",t)},expression:"editedItem.entryDate"}},[i("v-spacer"),i("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){e.entryDate=!1}}},[e._v("Cancel")]),i("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){return e.$refs.menu.save(e.editedItem.entryDate)}}},[e._v("OK")])],1)],1)],1),i("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[i("v-menu",{ref:"exitd",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.editedItem.exitDate,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(t){return e.$set(e.editedItem,"exitDate",t)},"update:return-value":function(t){return e.$set(e.editedItem,"exitDate",t)}},model:{value:e.exitDate,callback:function(t){e.exitDate=t},expression:"exitDate"}},[i("v-text-field",{attrs:{slot:"activator",label:"Fecha de Salida","prepend-icon":"event",readonly:""},slot:"activator",model:{value:e.editedItem.exitDate,callback:function(t){e.$set(e.editedItem,"exitDate",t)},expression:"editedItem.exitDate"}}),i("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.editedItem.exitDate,callback:function(t){e.$set(e.editedItem,"exitDate",t)},expression:"editedItem.exitDate"}},[i("v-spacer"),i("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){e.exitDate=!1}}},[e._v("Cancel")]),i("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){return e.$refs.exitd.save(e.editedItem.exitDate)}}},[e._v("OK")])],1)],1)],1),i("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[i("v-text-field",{attrs:{type:"number",label:"Días"},model:{value:e.editedItem.days,callback:function(t){e.$set(e.editedItem,"days",e._n(t))},expression:"editedItem.days"}})],1),i("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[i("v-checkbox",{attrs:{label:"¿Tiene seguro de accidente?"},model:{value:e.editedItem.haveAccidentInsurance,callback:function(t){e.$set(e.editedItem,"haveAccidentInsurance",t)},expression:"editedItem.haveAccidentInsurance"}})],1),i("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[i("v-checkbox",{attrs:{label:"¿Tiene seguro de colisión?"},model:{value:e.editedItem.haveCollisionInsurance,callback:function(t){e.$set(e.editedItem,"haveCollisionInsurance",t)},expression:"editedItem.haveCollisionInsurance"}})],1),i("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[i("v-text-field",{attrs:{prefix:"$",type:"number",label:"Depósito"},model:{value:e.editedItem.deposit,callback:function(t){e.$set(e.editedItem,"deposit",e._n(t))},expression:"editedItem.deposit"}})],1),i("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[i("v-text-field",{attrs:{prefix:"$",type:"number",label:"Adelanto"},model:{value:e.editedItem.advancePayment,callback:function(t){e.$set(e.editedItem,"advancePayment",e._n(t))},expression:"editedItem.advancePayment"}})],1),i("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[i("v-checkbox",{attrs:{label:"¿Tiene IVA?"},model:{value:e.editedItem.haveIVA,callback:function(t){e.$set(e.editedItem,"haveIVA",t)},expression:"editedItem.haveIVA"}})],1),i("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[i("v-text-field",{attrs:{prefix:"$",type:"number",label:"Precio por día"},model:{value:e.editedItem.priceForDay,callback:function(t){e.$set(e.editedItem,"priceForDay",e._n(t))},expression:"editedItem.priceForDay"}})],1),i("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[i("v-text-field",{attrs:{type:"number",label:"Octanos de gas de entrada"},model:{value:e.editedItem.eighthsGasEntry,callback:function(t){e.$set(e.editedItem,"eighthsGasEntry",e._n(t))},expression:"editedItem.eighthsGasEntry"}})],1),i("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[i("v-text-field",{attrs:{type:"number",label:"Octanos de gas de salida"},model:{value:e.editedItem.eighthsGasExit,callback:function(t){e.$set(e.editedItem,"eighthsGasExit",e._n(t))},expression:"editedItem.eighthsGasExit"}})],1),i("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[i("v-select",{attrs:{items:e.paymentList,"item-text":"text","item-value":"value",label:"Elige un Tipo de pago","data-vv-name":"select",required:""},model:{value:e.editedItem.payment,callback:function(t){e.$set(e.editedItem,"payment",t)},expression:"editedItem.payment"}})],1),i("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[i("v-text-field",{attrs:{type:"number",label:"Kilometro de Entrada"},model:{value:e.editedItem.entryKilometers,callback:function(t){e.$set(e.editedItem,"entryKilometers",e._n(t))},expression:"editedItem.entryKilometers"}})],1),i("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[i("v-text-field",{attrs:{type:"number",label:"Kilometro de salida"},model:{value:e.editedItem.exitKilometers,callback:function(t){e.$set(e.editedItem,"exitKilometers",e._n(t))},expression:"editedItem.exitKilometers"}})],1),i("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[i("v-select",{attrs:{items:e.cardList,"item-text":"text","item-value":"value",label:"Elige un Tipo de tarjeta","data-vv-name":"select",required:""},model:{value:e.editedItem.typeCard,callback:function(t){e.$set(e.editedItem,"typeCard",t)},expression:"editedItem.typeCard"}})],1),i("v-flex",{attrs:{xs12:"",sm12:"",md6:""}},[i("h2",[e._v("Total en Días: $"+e._s(e.totalDays))])]),i("v-flex",{attrs:{xs12:"",sm12:"",md6:""}},[i("h2",[e._v("Total Hora extra: $"+e._s(e.totalExtraHour))])]),i("v-flex",{attrs:{xs12:"",sm12:"",md6:""}},[i("h2",[e._v("Total Gas: $"+e._s(e.totalGas))])]),i("v-flex",{attrs:{xs12:"",sm12:"",md6:""}},[i("h2",[e._v("Kilometros Recorridos: "+e._s(e.kilometersTraveled))])]),i("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[i("h2",[e._v("totalIVA: $"+e._s(e.totalIVA))])]),i("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[i("h2",[e._v("Total: $"+e._s(e.total))])])],1)],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:e.close}},[e._v("Cancelar")]),i("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:e.save}},[e._v("Guardar")])],1)],1)],1)],1),i("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.sales},scopedSlots:e._u([{key:"items",fn:function(t){return[i("td",{staticClass:"subheading"},[e._v(e._s(t.item.contractNumber))]),i("td",{staticClass:"text-sm-center subheading"},[e._v("$"+e._s(t.item.total))]),i("td",{staticClass:"text-sm-center subheading"},[e._v(e._s(t.item.customer.firstName))]),i("td",{staticClass:"text-sm-center subheading"},[e._v(e._s(t.item.user.username))]),i("td",{staticClass:"justify-center layout px-0"},[i("v-btn",{attrs:{flat:"",icon:"",color:"blue lighten-2"}},[i("v-icon",{attrs:{medium:""},on:{click:function(i){return e.editItem(t.item)}}},[e._v("\n                        edit\n                    ")])],1),i("v-btn",{attrs:{flat:"",icon:"",color:"red darken-2"}},[i("v-icon",{attrs:{medium:""},on:{click:function(i){return e.deleteItem(t.item)}}},[e._v("\n                        delete\n                    ")])],1)],1)]}}])},[i("template",{slot:"no-data"},[i("h2",[e._v("No hay disponible ningun data")])])],2)],1)},r=[],s=i("5176"),n=i.n(s),d=(i("7514"),i("cebc")),c=(i("96cf"),i("3b8d")),o=i("d225"),l=i("b0b4"),u=i("308d"),m=i("6bb5"),v=i("4e2b"),f=i("9ab4"),h=i("60a3"),x=i("ebe2"),I=i("7c41"),p=i("1175"),D=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(u["a"])(this,Object(m["a"])(t).apply(this,arguments)),e.sales=[],e.customers=[],e.cars=[],e.users=[],e.dialog=!1,e.dateLicenseVen=!1,e.issuanceLicenseDriveDate=!1,e.expirationLicenseDriverDate=!1,e.dateLicenseExp=!1,e.entryDate=!1,e.exitDate=!1,e.serieList=[{text:"C",value:"C"},{text:"D",value:"D"}],e.paymentList=[{text:"CASH",value:"CASH"},{text:"CARD",value:"CARD"},{text:"PENDING",value:"PENDING"}],e.cardList=[{text:"MASTERCARD",value:"MASTERCARD"},{text:"VISA",value:"VISA"}],e.headers=[{text:"Número de contrato",align:"left",sortable:!1,class:"subheading",value:"contractNumber"},{text:"Total",class:"subheading",value:"total"},{text:"Cliente",class:"subheading",value:"customer"},{text:"Usuario",class:"subheading",value:"user"},{text:"Actions",class:"subheading",value:"actions",sortable:!1}],e.editedIndex=-1,e.editedItem={id:"",contractNumber:0,car:{id:""},customer:{id:""},user:{id:"",username:""},exitDate:(new Date).toISOString().substr(0,10),entryDate:(new Date).toISOString().substr(0,10),priceForDay:0,notes:"",entryKilometers:0,exitKilometers:0,kilometersTraveled:0,finished:!1,extraHour:0,dayPrice:0,haveAccidentInsurance:!1,haveCollisionInsurance:!1,haveDriver:!1,driverName:"",driverLicense:"",expirationLicenseDriverDate:(new Date).toISOString().substr(0,10),issuanceLicenseDriveDate:(new Date).toISOString().substr(0,10),deposit:0,moneyAdvance:0,haveIVA:!1,eighthsGasEntry:0,eighthsGasExit:0,refunds:0,totalIVA:0,totalExtraHour:0,totalDays:0,totalInsurance:0,totalDriver:0,total:0,damage:0,days:0,typeCard:x["CardTypes"].MASTERCARD,payment:x["PayTypes"].CASH,serie:x["Serie"].C},e.defaultItem={id:"",contractNumber:0,car:{id:""},customer:{id:""},user:{id:"",username:""},exitDate:(new Date).toISOString().substr(0,10),entryDate:(new Date).toISOString().substr(0,10),priceForDay:0,notes:"",entryKilometers:0,exitKilometers:0,kilometersTraveled:0,finished:!1,extraHour:0,dayPrice:0,haveAccidentInsurance:!1,haveCollisionInsurance:!1,haveDriver:!1,driverName:"",driverLicense:"",expirationLicenseDriverDate:"",issuanceLicenseDriveDate:"",deposit:0,moneyAdvance:0,haveIVA:!1,eighthsGasEntry:0,eighthsGasExit:0,refunds:0,totalGas:0,totalIVA:0,totalExtraHour:0,totalDays:0,totalInsurance:0,totalDriver:0,total:0,damage:0,days:0,typeCard:x["CardTypes"].MASTERCARD,payment:x["PayTypes"].CASH,serie:x["Serie"].C},e}return Object(v["a"])(t,e),Object(l["a"])(t,[{key:"fetchAll",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t,i,a,r,s,n,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,I["a"].Strapi.axios.get("/sales");case 2:return t=e.sent,e.next=5,I["a"].Strapi.axios.get("/customers");case 5:return i=e.sent,e.next=8,I["a"].Strapi.axios.get("/cars");case 8:return a=e.sent,e.next=11,I["a"].Strapi.axios.get("/users");case 11:r=e.sent,s=t.data.map(function(e){return Object(d["a"])({},e,{issuanceLicenseDriveDate:e.issuanceLicenseDriveDate?e.issuanceLicenseDriveDate.substr(0,10):"",expirationLicenseDriverDate:e.expirationLicenseDriverDate?e.expirationLicenseDriverDate.substr(0,10):"",entryDate:e.entryDate?e.entryDate.substr(0,10):"",exitDate:e.exitDate?e.exitDate.substr(0,10):""})}),n=i.data.map(function(e){return{text:"".concat(e.firstName," ").concat(e.lastName),value:e.id}}),c=a.data.map(function(e){return{text:"".concat(e.brand," - ").concat(e.model),value:e.id}}),this.sales=s,this.customers=n,this.cars=c,this.users=r.data;case 19:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"mounted",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetchAll();case 2:this.editedItem.user.id=this.userID,this.defaultItem.user.id=this.userID,t=this.users.find(function(e){return e._id===i.userID}),this.defaultItem.user.username=t?t.username:"",this.editedItem.user.username=t?t.username:"",console.log(this.sales);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"parseDateIss",value:function(e){var t=new Date(e);return"".concat(t.getDate()," - ").concat(t.getMonth()," - ").concat(t.getFullYear())}},{key:"parseDateVen",value:function(e){var t=new Date(e);return"".concat(t.getDate()," - ").concat(t.getMonth()," - ").concat(t.getFullYear())}},{key:"dialogWatch",value:function(e){e||this.close()}},{key:"editItem",value:function(e){this.editedIndex=this.sales.indexOf(e),this.editedItem=n()({},e),this.dialog=!0}},{key:"deleteItem",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.sales.indexOf(t),e.t0=confirm("¿De verdad necesita eliminar la venta?"),!e.t0){e.next=5;break}return e.next=5,I["a"].Strapi.axios.delete("/sales/".concat(t.id));case 5:return e.next=7,this.fetchAll();case 7:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"close",value:function(){var e=this;this.dialog=!1,setTimeout(function(){e.editedItem=n()({},e.defaultItem),e.editedIndex=-1},300)}},{key:"save",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$validator.validateAll();case 2:if(t=e.sent,!t){e.next=18;break}if(!(this.editedIndex>-1)){e.next=12;break}return e.next=7,I["a"].Strapi.axios.put("/sales/".concat(this.editedItem.id,"/"),{contractNumber:this.editedItem.contractNumber,car:this.editedItem.car,customer:this.editedItem.customer,user:this.editedItem.user.id,exitDate:this.editedItem.exitDate,entryDate:this.editedItem.entryDate,priceForDay:this.editedItem.priceForDay,notes:this.editedItem.notes,entryKilometers:this.editedItem.entryKilometers,exitKilometers:this.editedItem.exitKilometers,kilometersTraveled:this.editedItem.kilometersTraveled,finished:this.editedItem.finished,extraHour:this.editedItem.extraHour,dayPrice:this.editedItem.dayPrice,haveAccidentInsurance:this.editedItem.haveAccidentInsurance,haveCollisionInsurance:this.editedItem.haveCollisionInsurance,haveDriver:this.editedItem.haveDriver,driverName:this.editedItem.driverName,driverLicense:this.editedItem.driverLicense,expirationLicenseDriverDate:this.editedItem.expirationLicenseDriverDate,issuanceLicenseDriveDate:this.editedItem.issuanceLicenseDriveDate,deposit:this.editedItem.deposit,moneyAdvance:this.editedItem.moneyAdvance,haveIVA:this.editedItem.haveIVA,eighthsGasEntry:this.editedItem.eighthsGasEntry,eighthsGasExit:this.editedItem.eighthsGasExit,refunds:this.editedItem.refunds,totalIVA:this.totalIVA,totalExtraHour:this.totalExtraHour,totalDays:this.totalDays,totalInsurance:this.totalInsurance,totalDriver:this.totalDriver,total:this.total,damage:this.editedItem.damage,days:this.editedItem.days,typeCard:this.editedItem.typeCard,payment:this.editedItem.payment,serie:this.editedItem.serie});case 7:return e.sent,e.next=10,this.fetchAll();case 10:e.next=17;break;case 12:return e.next=14,I["a"].Strapi.axios.post("/sales",{contractNumber:this.editedItem.contractNumber,car:this.editedItem.car.id,customer:this.editedItem.customer.id,user:this.editedItem.user.id,exitDate:this.editedItem.exitDate,entryDate:this.editedItem.entryDate,priceForDay:this.editedItem.priceForDay,notes:this.editedItem.notes,entryKilometers:this.editedItem.entryKilometers,exitKilometers:this.editedItem.exitKilometers,kilometersTraveled:this.editedItem.kilometersTraveled,finished:this.editedItem.finished,extraHour:this.editedItem.extraHour,dayPrice:this.editedItem.dayPrice,haveAccidentInsurance:this.editedItem.haveAccidentInsurance,haveCollisionInsurance:this.editedItem.haveCollisionInsurance,haveDriver:this.editedItem.haveDriver,driverName:this.editedItem.driverName,driverLicense:this.editedItem.driverLicense,expirationLicenseDriverDate:this.editedItem.expirationLicenseDriverDate,issuanceLicenseDriveDate:this.editedItem.issuanceLicenseDriveDate,deposit:this.editedItem.deposit,moneyAdvance:this.editedItem.moneyAdvance,haveIVA:this.editedItem.haveIVA,eighthsGasEntry:this.editedItem.eighthsGasEntry,eighthsGasExit:this.editedItem.eighthsGasExit,refunds:this.editedItem.refunds,totalIVA:this.totalIVA,totalExtraHour:this.totalExtraHour,totalDays:this.totalDays,totalInsurance:this.totalInsurance,totalDriver:this.totalDriver,total:this.total,damage:this.editedItem.damage,days:this.editedItem.days,typeCard:this.editedItem.typeCard,payment:this.editedItem.payment,serie:this.editedItem.serie});case 14:return e.sent,e.next=17,this.fetchAll();case 17:this.close();case 18:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"formTitle",get:function(){return-1===this.editedIndex?"Nueva Venta":"Editar Venta"}},{key:"contractSerie",get:function(){return"".concat(this.editedItem.contractNumber," - ").concat(this.editedItem.serie)}},{key:"totalDays",get:function(){return this.editedItem.priceForDay*this.editedItem.days}},{key:"totalExtraHour",get:function(){return 12*this.editedItem.extraHour}},{key:"totalGas",get:function(){return 25*(this.editedItem.eighthsGasExit-this.editedItem.eighthsGasEntry)}},{key:"total",get:function(){var e=this.totalDays+this.totalExtraHour+this.totalGas+this.totalInsurance;return this.editedItem.haveIVA&&(e+=e*this.costIVA),e}},{key:"totalIVA",get:function(){var e=this.totalDays+this.totalExtraHour+this.totalGas+this.totalInsurance+this.totalDriver;return this.editedItem.haveIVA?e*this.costIVA:0}},{key:"costIVA",get:function(){return.11}},{key:"kilometersTraveled",get:function(){return this.editedItem.entryKilometers-this.editedItem.exitKilometers}},{key:"totalInsurance",get:function(){var e=0;return this.editedItem.haveAccidentInsurance&&(e+=12),this.editedItem.haveCollisionInsurance&&(e+=24*this.editedItem.days),e}},{key:"totalDriver",get:function(){return this.editedItem.haveDriver?21:0}},{key:"userID",get:function(){return p["a"].user._id}}]),t}(h["b"]);f["a"]([Object(h["c"])("dialog")],D.prototype,"dialogWatch",null),D=f["a"]([Object(h["a"])({$_veeValidate:{validator:"new"}})],D);var y=D,b=y,g=i("2877"),k=Object(g["a"])(b,a,r,!1,null,"00dee7d4",null);t["default"]=k.exports},5176:function(e,t,i){e.exports=i("51b6")},"51b6":function(e,t,i){i("a3c3"),e.exports=i("584a").Object.assign},7514:function(e,t,i){"use strict";var a=i("5ca1"),r=i("0a49")(5),s="find",n=!0;s in[]&&Array(1)[s](function(){n=!1}),a(a.P+a.F*n,"Array",{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),i("9c6c")(s)},"75dd":function(e,t,i){"use strict";var a,r,s;i.d(t,"b",function(){return a}),i.d(t,"c",function(){return r}),i.d(t,"a",function(){return s}),function(e){e["CASH"]="CASH",e["CARD"]="CARD",e["PENDING"]="PENDING"}(a||(a={})),function(e){e["C"]="C",e["D"]="D"}(r||(r={})),function(e){e["MASTERCARD"]="MASTERCARD",e["VISA"]="VISA"}(s||(s={}))},"8aae":function(e,t,i){i("32a6"),e.exports=i("584a").Object.keys},9306:function(e,t,i){"use strict";var a=i("c3a1"),r=i("9aa9"),s=i("355d"),n=i("241e"),d=i("335c"),c=Object.assign;e.exports=!c||i("294c")(function(){var e={},t={},i=Symbol(),a="abcdefghijklmnopqrst";return e[i]=7,a.split("").forEach(function(e){t[e]=e}),7!=c({},e)[i]||Object.keys(c({},t)).join("")!=a})?function(e,t){var i=n(e),c=arguments.length,o=1,l=r.f,u=s.f;while(c>o){var m,v=d(arguments[o++]),f=l?a(v).concat(l(v)):a(v),h=f.length,x=0;while(h>x)u.call(v,m=f[x++])&&(i[m]=v[m])}return i}:c},a3c3:function(e,t,i){var a=i("63b6");a(a.S+a.F,"Object",{assign:i("9306")})},a4bb:function(e,t,i){e.exports=i("8aae")},bf90:function(e,t,i){var a=i("36c3"),r=i("bf0b").f;i("ce7e")("getOwnPropertyDescriptor",function(){return function(e,t){return r(a(e),t)}})},cd1c:function(e,t,i){var a=i("e853");e.exports=function(e,t){return new(a(e))(t)}},cebc:function(e,t,i){"use strict";var a=i("268f"),r=i.n(a),s=i("e265"),n=i.n(s),d=i("a4bb"),c=i.n(d),o=i("85f2"),l=i.n(o);function u(e,t,i){return t in e?l()(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function m(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},a=c()(i);"function"===typeof n.a&&(a=a.concat(n()(i).filter(function(e){return r()(i,e).enumerable}))),a.forEach(function(t){u(e,t,i[t])})}return e}i.d(t,"a",function(){return m})},e265:function(e,t,i){e.exports=i("ed33")},e853:function(e,t,i){var a=i("d3f4"),r=i("1169"),s=i("2b4c")("species");e.exports=function(e){var t;return r(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!r(t.prototype)||(t=void 0),a(t)&&(t=t[s],null===t&&(t=void 0))),void 0===t?Array:t}},ebe2:function(e,t,i){"use strict";var a=i("0311");i.o(a,"CardTypes")&&i.d(t,"CardTypes",function(){return a["CardTypes"]}),i.o(a,"PayTypes")&&i.d(t,"PayTypes",function(){return a["PayTypes"]}),i.o(a,"Serie")&&i.d(t,"Serie",function(){return a["Serie"]});var r=i("75dd");i.d(t,"CardTypes",function(){return r["a"]}),i.d(t,"PayTypes",function(){return r["b"]}),i.d(t,"Serie",function(){return r["c"]})},ed33:function(e,t,i){i("014b"),e.exports=i("584a").Object.getOwnPropertySymbols},fde4:function(e,t,i){i("bf90");var a=i("584a").Object;e.exports=function(e,t){return a.getOwnPropertyDescriptor(e,t)}}}]);
//# sourceMappingURL=chunk-1baa843f.b8eaa5f4.js.map